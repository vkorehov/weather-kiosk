<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<style>
		body {
			background-color: black;
		}
		section {
			font-size: 26pt;
			color: white;
		}
	</style>
    <script>
       function updateForecast() {
           fetch('/weather')
           .then(response => response.json())
           .then(forecast => {
               document.getElementById('nowTemperatureValue').innerHTML=forecast.currently.temperature.toPrecision(3)
               document.getElementById('nowIcon').innerHTML="<svg src=\"icons/"+forecast.currently.icon+".svg\"></svg>"
           });
           setTimeout(updateForecast, 600000); //Then set it to run again
       }
       window.onload = function () {
           updateForecast(); //Make sure the function fires as soon as the page is loaded
       }
	</script>
  </head>
  <body>
	<section>
		<table>
			<tr>
				<td>Weather</td>
				<td>Now</td>
				<td><span id=nowTemperatureValue></span>&#8451;</td>
				<td><i id=nowIcon></i></td>
			</tr>
		</table>
	</section>	
  </body>
</html>
